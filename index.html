<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>539</title>
    <!-- 引入 Firebase 库 -->
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-database.js"></script>
    <script>
        // Firebase 配置
        const firebaseConfig = {
            apiKey: "AIzaSyAUIF7LwBbjaLn-HPjHeOeJwmOuZK50vt0",
            authDomain: "project-5841418075685690201.firebaseapp.com",
            databaseURL: "https://project-5841418075685690201-default-rtdb.firebaseio.com",
            projectId: "project-5841418075685690201",
            storageBucket: "project-5841418075685690201.firebasestorage.app",
            messagingSenderId: "598811156382",
            appId: "1:598811156382:web:3674afd4af5c8d2f8dc08f"
        };

        // 初始化 Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // 儲存內容到 Firebase
        function saveContent() {
            var content1 = document.getElementById("input1").value;
            var content2 = document.getElementById("input2").value;
            var content3 = document.getElementById("input3").value;
            var content4 = document.getElementById("input4").value;
            var content5 = document.getElementById("input5").value;

            // 儲存到 Firebase
            firebase.database().ref('content').set({
                content1: content1,
                content2: content2,
                content3: content3,
                content4: content4,
                content5: content5
            });

            // 更新頁面顯示
            document.getElementById("content1").innerText = content1;
            document.getElementById("content2").innerText = content2;
            document.getElementById("content3").innerText = content3;
            document.getElementById("content4").innerText = content4;
            document.getElementById("content5").innerText = content5;

            alert("內容已儲存！");
        }

        // 從 Firebase 加載內容
        function loadContent() {
            firebase.database().ref('content').get().then((snapshot) => {
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    document.getElementById("content1").innerText = data.content1;
                    document.getElementById("content2").innerText = data.content2;
                    document.getElementById("content3").innerText = data.content3;
                    document.getElementById("content4").innerText = data.content4;
                    document.getElementById("content5").innerText = data.content5;
                    // 同步到輸入框
                    document.getElementById("input1").value = data.content1;
                    document.getElementById("input2").value = data.content2;
                    document.getElementById("input3").value = data.content3;
                    document.getElementById("input4").value = data.content4;
                    document.getElementById("input5").value = data.content5;
                } else {
                    console.log("No data available");
                }
            }).catch((error) => {
                console.error(error);
            });
        }

        // 設定自動刷新
        var refreshTimeout;
        function startAutoRefresh() {
            refreshTimeout = setTimeout(() => {
                location.reload();
            }, 10000); // 每 10 秒刷新一次
        }

        function stopAutoRefresh() {
            clearTimeout(refreshTimeout); // 停止自動刷新
        }

        // 當頁面加載時，從 Firebase 加載內容
        window.onload = function() {
            loadContent(); // 頁面加載時啟動數據加載
            startAutoRefresh(); // 頁面加載時啟動自動刷新
        };

        // 驗證密碼並顯示輸入框
        function updateContent() {
            var password = prompt("請輸入密碼進行修改：");

            if (password === "0905760395") {
                // 停止自動刷新
                stopAutoRefresh();

                // 顯示輸入框讓用戶修改內容
                document.getElementById("input1").style.display = "block";
                document.getElementById("input2").style.display = "block";
                document.getElementById("input3").style.display = "block";
                document.getElementById("input4").style.display = "block";
                document.getElementById("input5").style.display = "block";

                alert("您現在可以修改內容！");
            } else {
                alert("密碼錯誤！");
            }
        }
    </script>
</head>
<body>
    <h1 style="font-size: 80px;">539！</h1>
    <span id="content1" style="font-size: 60px;"> </span><br>
    <span id="content2" style="font-size: 60px;"> </span><br>
    <span id="content3" style="font-size: 60px;"> </span><br>
    <span id="content4" style="font-size: 60px;"> </span><br>
    <span id="content5" style="font-size: 60px;"> </span><br>

    <!-- 用戶輸入新的內容 -->
    <input type="text" id="input1" style="display:none; font-size: 60px;" placeholder="修改內容1">
    <input type="text" id="input2" style="display:none; font-size: 60px;" placeholder="修改內容2">
    <input type="text" id="input3" style="display:none; font-size: 60px;" placeholder="修改內容3">
    <input type="text" id="input4" style="display:none; font-size: 60px;" placeholder="修改內容4">
    <input type="text" id="input5" style="display:none; font-size: 60px;" placeholder="修改內容5"><br>

    <!-- 編輯內容按鈕 -->
    <button onclick="updateContent()">編輯內容</button>
    <!-- 儲存更改按鈕 -->
    <button onclick="saveContent()">儲存更改</button>
</body>
</html>
